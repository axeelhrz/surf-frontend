{"ast":null,"code":"var _jsxFileName = \"/Users/axelhernandez/Surf/frontend/src/pages/admin/PhotosPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { adminApiService } from '../../services/adminApi';\nimport './AdminPage.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PhotosPage = () => {\n  _s();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [folders, setFolders] = useState([]);\n  const [days, setDays] = useState([]);\n  const [photos, setPhotos] = useState([]);\n  const [selectedFolder, setSelectedFolder] = useState(searchParams.get('folder') || '');\n  const [selectedDay, setSelectedDay] = useState(searchParams.get('day') || '');\n  const [files, setFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [loadingDays, setLoadingDays] = useState(false);\n  const [loadingPhotos, setLoadingPhotos] = useState(false);\n  useEffect(() => {\n    loadFolders();\n  }, []);\n  useEffect(() => {\n    if (selectedFolder) {\n      loadDays();\n    } else {\n      setDays([]);\n      setSelectedDay('');\n    }\n  }, [selectedFolder]);\n  useEffect(() => {\n    if (selectedFolder && selectedDay) {\n      loadPhotos();\n    } else {\n      setPhotos([]);\n    }\n  }, [selectedFolder, selectedDay]);\n  const loadFolders = async () => {\n    try {\n      setLoading(true);\n      const data = await adminApiService.getFolders();\n      setFolders(data);\n\n      // Si hay folder en URL, usarlo\n      const folderParam = searchParams.get('folder');\n      if (folderParam && data.some(f => f.name === folderParam)) {\n        setSelectedFolder(folderParam);\n      } else if (data.length > 0 && !selectedFolder) {\n        setSelectedFolder(data[0].name);\n      }\n    } catch (err) {\n      console.error('Error loading folders:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadDays = async () => {\n    if (!selectedFolder) return;\n    try {\n      setLoadingDays(true);\n      const data = await adminApiService.getFolderDays(selectedFolder);\n      setDays(data);\n\n      // Si hay day en URL, usarlo\n      const dayParam = searchParams.get('day');\n      if (dayParam && data.some(d => d.date === dayParam)) {\n        setSelectedDay(dayParam);\n      } else if (data.length > 0 && !selectedDay) {\n        setSelectedDay(data[0].date);\n      }\n    } catch (err) {\n      console.error('Error loading days:', err);\n      setDays([]);\n    } finally {\n      setLoadingDays(false);\n    }\n  };\n  const loadPhotos = async () => {\n    if (!selectedFolder || !selectedDay) return;\n    try {\n      setLoadingPhotos(true);\n      // Construir el path completo: folder/day\n      const folderPath = `${selectedFolder}/${selectedDay}`;\n      const data = await adminApiService.getFolderPhotos(folderPath);\n      setPhotos(data);\n    } catch (err) {\n      console.error('Error loading photos:', err);\n      setPhotos([]);\n    } finally {\n      setLoadingPhotos(false);\n    }\n  };\n  const handleFolderChange = folder => {\n    setSelectedFolder(folder);\n    setSelectedDay('');\n    setPhotos([]);\n    setSearchParams({\n      folder\n    });\n  };\n  const handleDayChange = day => {\n    setSelectedDay(day);\n    if (selectedFolder) {\n      setSearchParams({\n        folder: selectedFolder,\n        day\n      });\n    }\n  };\n  const handleFileChange = e => {\n    if (e.target.files) {\n      setFiles(Array.from(e.target.files));\n    }\n  };\n  const handleUpload = async () => {\n    if (!selectedFolder || !selectedDay || files.length === 0) {\n      alert('Selecciona una carpeta, un día y archivos para subir');\n      return;\n    }\n    try {\n      setUploading(true);\n      setUploadProgress(`Subiendo ${files.length} fotos...`);\n\n      // Subir a la carpeta del día específico\n      const folderPath = `${selectedFolder}/${selectedDay}`;\n      await adminApiService.uploadPhotos(folderPath, files);\n      setUploadProgress('¡Fotos subidas exitosamente!');\n      setFiles([]);\n\n      // Recargar fotos\n      await loadPhotos();\n      setTimeout(() => {\n        setUploadProgress('');\n      }, 3000);\n    } catch (err) {\n      alert(err instanceof Error ? err.message : 'Error subiendo fotos');\n      setUploadProgress('');\n    } finally {\n      setUploading(false);\n    }\n  };\n  const formatFileSize = bytes => {\n    if (bytes < 1024) return bytes + ' B';\n    if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(2) + ' KB';\n    return (bytes / (1024 * 1024)).toFixed(2) + ' MB';\n  };\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Gesti\\xF3n de Fotos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#718096',\n            marginTop: '0.5rem'\n          },\n          children: \"Sube y gestiona fotos por carpeta y d\\xEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-content\",\n        children: folders.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-warning\",\n          children: \"No hay carpetas disponibles. Crea una carpeta primero.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: '1rem',\n              marginBottom: '2rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Seleccionar Carpeta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                value: selectedFolder,\n                onChange: e => handleFolderChange(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-- Selecciona una carpeta --\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 21\n                }, this), folders.map(folder => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: folder.name,\n                  children: [folder.name, \" (\", folder.photo_count, \" fotos)\"]\n                }, folder.name, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Seleccionar D\\xEDa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                value: selectedDay,\n                onChange: e => handleDayChange(e.target.value),\n                disabled: !selectedFolder || loadingDays,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-- Selecciona un d\\xEDa --\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this), days.map(day => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: day.date,\n                  children: [day.date, \" (\", day.photo_count, \" fotos)\"]\n                }, day.date, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this), loadingDays && /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  marginTop: '0.5rem',\n                  color: '#718096',\n                  fontSize: '0.875rem'\n                },\n                children: \"Cargando d\\xEDas...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this), selectedFolder && selectedDay && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: '#f7fafc',\n              padding: '1.5rem',\n              borderRadius: '8px',\n              marginBottom: '2rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                marginBottom: '1rem',\n                fontSize: '1.125rem',\n                fontWeight: '600'\n              },\n              children: [\"Subir Fotos a \", selectedFolder, \" / \", selectedDay]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Seleccionar Fotos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                multiple: true,\n                accept: \"image/*\",\n                onChange: handleFileChange,\n                className: \"form-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 21\n              }, this), files.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  marginTop: '0.5rem',\n                  color: '#718096'\n                },\n                children: [files.length, \" archivo(s) seleccionado(s)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 19\n            }, this), uploadProgress && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-info\",\n              children: uploadProgress\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleUpload,\n              disabled: uploading || files.length === 0,\n              className: \"btn-primary\",\n              children: uploading ? 'Subiendo...' : 'Subir Fotos'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 17\n          }, this), selectedFolder && selectedDay && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                marginBottom: '1rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  fontSize: '1.125rem',\n                  fontWeight: '600'\n                },\n                children: [\"Fotos en \", selectedFolder, \" / \", selectedDay]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 21\n              }, this), loadingPhotos && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#718096',\n                  fontSize: '0.875rem'\n                },\n                children: \"Cargando...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 19\n            }, this), photos.length === 0 && !loadingPhotos ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-info\",\n              children: \"No hay fotos en este d\\xEDa. Sube algunas fotos para comenzar.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\n                gap: '1rem'\n              },\n              children: photos.map(photo => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  background: 'white',\n                  border: '1px solid #e2e8f0',\n                  borderRadius: '8px',\n                  overflow: 'hidden',\n                  transition: 'all 0.2s'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    aspectRatio: '1',\n                    background: '#f7fafc',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    overflow: 'hidden'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: adminApiService.getPhotoPreviewUrl(`${selectedFolder}/${selectedDay}`, photo.filename, false),\n                    alt: photo.filename,\n                    style: {\n                      width: '100%',\n                      height: '100%',\n                      objectFit: 'cover'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    padding: '0.75rem'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      fontSize: '0.875rem',\n                      fontWeight: '500',\n                      marginBottom: '0.25rem',\n                      overflow: 'hidden',\n                      textOverflow: 'ellipsis',\n                      whiteSpace: 'nowrap'\n                    },\n                    children: photo.filename\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      fontSize: '0.75rem',\n                      color: '#718096',\n                      marginBottom: '0.25rem'\n                    },\n                    children: formatFileSize(photo.size)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      fontSize: '0.75rem',\n                      color: '#a0aec0'\n                    },\n                    children: formatDate(photo.created_at)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 27\n                }, this)]\n              }, photo.filename, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 17\n          }, this), (!selectedFolder || !selectedDay) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-info\",\n            children: \"Selecciona una carpeta y un d\\xEDa para ver y gestionar las fotos.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n};\n_s(PhotosPage, \"5D39yKwBzj1Cnl6gQtlx795EGS8=\", false, function () {\n  return [useSearchParams];\n});\n_c = PhotosPage;\nexport default PhotosPage;\nvar _c;\n$RefreshReg$(_c, \"PhotosPage\");","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","adminApiService","jsxDEV","_jsxDEV","Fragment","_Fragment","PhotosPage","_s","searchParams","setSearchParams","folders","setFolders","days","setDays","photos","setPhotos","selectedFolder","setSelectedFolder","get","selectedDay","setSelectedDay","files","setFiles","uploading","setUploading","uploadProgress","setUploadProgress","loading","setLoading","loadingDays","setLoadingDays","loadingPhotos","setLoadingPhotos","loadFolders","loadDays","loadPhotos","data","getFolders","folderParam","some","f","name","length","err","console","error","getFolderDays","dayParam","d","date","folderPath","getFolderPhotos","handleFolderChange","folder","handleDayChange","day","handleFileChange","e","target","Array","from","handleUpload","alert","uploadPhotos","setTimeout","Error","message","formatFileSize","bytes","toFixed","formatDate","dateString","Date","toLocaleDateString","year","month","hour","minute","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","marginTop","display","gridTemplateColumns","gap","marginBottom","value","onChange","map","photo_count","disabled","fontSize","background","padding","borderRadius","fontWeight","type","multiple","accept","onClick","justifyContent","alignItems","photo","border","overflow","transition","aspectRatio","src","getPhotoPreviewUrl","filename","alt","width","height","objectFit","textOverflow","whiteSpace","size","created_at","_c","$RefreshReg$"],"sources":["/Users/axelhernandez/Surf/frontend/src/pages/admin/PhotosPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { adminApiService, Folder, DayFolder } from '../../services/adminApi';\nimport './AdminPage.css';\n\ninterface Photo {\n  filename: string;\n  size: number;\n  created_at: string;\n}\n\nconst PhotosPage: React.FC = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [folders, setFolders] = useState<Folder[]>([]);\n  const [days, setDays] = useState<DayFolder[]>([]);\n  const [photos, setPhotos] = useState<Photo[]>([]);\n  const [selectedFolder, setSelectedFolder] = useState<string>(searchParams.get('folder') || '');\n  const [selectedDay, setSelectedDay] = useState<string>(searchParams.get('day') || '');\n  const [files, setFiles] = useState<File[]>([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState<string>('');\n  const [loading, setLoading] = useState(true);\n  const [loadingDays, setLoadingDays] = useState(false);\n  const [loadingPhotos, setLoadingPhotos] = useState(false);\n\n  useEffect(() => {\n    loadFolders();\n  }, []);\n\n  useEffect(() => {\n    if (selectedFolder) {\n      loadDays();\n    } else {\n      setDays([]);\n      setSelectedDay('');\n    }\n  }, [selectedFolder]);\n\n  useEffect(() => {\n    if (selectedFolder && selectedDay) {\n      loadPhotos();\n    } else {\n      setPhotos([]);\n    }\n  }, [selectedFolder, selectedDay]);\n\n  const loadFolders = async () => {\n    try {\n      setLoading(true);\n      const data = await adminApiService.getFolders();\n      setFolders(data);\n      \n      // Si hay folder en URL, usarlo\n      const folderParam = searchParams.get('folder');\n      if (folderParam && data.some(f => f.name === folderParam)) {\n        setSelectedFolder(folderParam);\n      } else if (data.length > 0 && !selectedFolder) {\n        setSelectedFolder(data[0].name);\n      }\n    } catch (err) {\n      console.error('Error loading folders:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadDays = async () => {\n    if (!selectedFolder) return;\n    \n    try {\n      setLoadingDays(true);\n      const data = await adminApiService.getFolderDays(selectedFolder);\n      setDays(data);\n      \n      // Si hay day en URL, usarlo\n      const dayParam = searchParams.get('day');\n      if (dayParam && data.some(d => d.date === dayParam)) {\n        setSelectedDay(dayParam);\n      } else if (data.length > 0 && !selectedDay) {\n        setSelectedDay(data[0].date);\n      }\n    } catch (err) {\n      console.error('Error loading days:', err);\n      setDays([]);\n    } finally {\n      setLoadingDays(false);\n    }\n  };\n\n  const loadPhotos = async () => {\n    if (!selectedFolder || !selectedDay) return;\n    \n    try {\n      setLoadingPhotos(true);\n      // Construir el path completo: folder/day\n      const folderPath = `${selectedFolder}/${selectedDay}`;\n      const data = await adminApiService.getFolderPhotos(folderPath);\n      setPhotos(data);\n    } catch (err) {\n      console.error('Error loading photos:', err);\n      setPhotos([]);\n    } finally {\n      setLoadingPhotos(false);\n    }\n  };\n\n  const handleFolderChange = (folder: string) => {\n    setSelectedFolder(folder);\n    setSelectedDay('');\n    setPhotos([]);\n    setSearchParams({ folder });\n  };\n\n  const handleDayChange = (day: string) => {\n    setSelectedDay(day);\n    if (selectedFolder) {\n      setSearchParams({ folder: selectedFolder, day });\n    }\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files) {\n      setFiles(Array.from(e.target.files));\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!selectedFolder || !selectedDay || files.length === 0) {\n      alert('Selecciona una carpeta, un día y archivos para subir');\n      return;\n    }\n\n    try {\n      setUploading(true);\n      setUploadProgress(`Subiendo ${files.length} fotos...`);\n      \n      // Subir a la carpeta del día específico\n      const folderPath = `${selectedFolder}/${selectedDay}`;\n      await adminApiService.uploadPhotos(folderPath, files);\n      \n      setUploadProgress('¡Fotos subidas exitosamente!');\n      setFiles([]);\n      \n      // Recargar fotos\n      await loadPhotos();\n      \n      setTimeout(() => {\n        setUploadProgress('');\n      }, 3000);\n    } catch (err) {\n      alert(err instanceof Error ? err.message : 'Error subiendo fotos');\n      setUploadProgress('');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const formatFileSize = (bytes: number): string => {\n    if (bytes < 1024) return bytes + ' B';\n    if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(2) + ' KB';\n    return (bytes / (1024 * 1024)).toFixed(2) + ' MB';\n  };\n\n  const formatDate = (dateString: string): string => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"admin-page\">\n        <div className=\"loading-container\">\n          <div className=\"loading-spinner\"></div>\n          <p>Cargando...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"admin-page\">\n      <div className=\"admin-container\">\n        <div className=\"admin-header\">\n          <h1>Gestión de Fotos</h1>\n          <p style={{ color: '#718096', marginTop: '0.5rem' }}>\n            Sube y gestiona fotos por carpeta y día\n          </p>\n        </div>\n\n        <div className=\"admin-content\">\n          {folders.length === 0 ? (\n            <div className=\"alert alert-warning\">\n              No hay carpetas disponibles. Crea una carpeta primero.\n            </div>\n          ) : (\n            <>\n              {/* Selectores de Carpeta y Día */}\n              <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem', marginBottom: '2rem' }}>\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Seleccionar Carpeta</label>\n                  <select\n                    className=\"form-select\"\n                    value={selectedFolder}\n                    onChange={(e) => handleFolderChange(e.target.value)}\n                  >\n                    <option value=\"\">-- Selecciona una carpeta --</option>\n                    {folders.map((folder) => (\n                      <option key={folder.name} value={folder.name}>\n                        {folder.name} ({folder.photo_count} fotos)\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Seleccionar Día</label>\n                  <select\n                    className=\"form-select\"\n                    value={selectedDay}\n                    onChange={(e) => handleDayChange(e.target.value)}\n                    disabled={!selectedFolder || loadingDays}\n                  >\n                    <option value=\"\">-- Selecciona un día --</option>\n                    {days.map((day) => (\n                      <option key={day.date} value={day.date}>\n                        {day.date} ({day.photo_count} fotos)\n                      </option>\n                    ))}\n                  </select>\n                  {loadingDays && (\n                    <p style={{ marginTop: '0.5rem', color: '#718096', fontSize: '0.875rem' }}>\n                      Cargando días...\n                    </p>\n                  )}\n                </div>\n              </div>\n\n              {/* Sección de Subida de Fotos */}\n              {selectedFolder && selectedDay && (\n                <div style={{ \n                  background: '#f7fafc', \n                  padding: '1.5rem', \n                  borderRadius: '8px',\n                  marginBottom: '2rem'\n                }}>\n                  <h3 style={{ marginBottom: '1rem', fontSize: '1.125rem', fontWeight: '600' }}>\n                    Subir Fotos a {selectedFolder} / {selectedDay}\n                  </h3>\n                  \n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Seleccionar Fotos</label>\n                    <input\n                      type=\"file\"\n                      multiple\n                      accept=\"image/*\"\n                      onChange={handleFileChange}\n                      className=\"form-input\"\n                    />\n                    {files.length > 0 && (\n                      <p style={{ marginTop: '0.5rem', color: '#718096' }}>\n                        {files.length} archivo(s) seleccionado(s)\n                      </p>\n                    )}\n                  </div>\n\n                  {uploadProgress && (\n                    <div className=\"alert alert-info\">\n                      {uploadProgress}\n                    </div>\n                  )}\n\n                  <button\n                    onClick={handleUpload}\n                    disabled={uploading || files.length === 0}\n                    className=\"btn-primary\"\n                  >\n                    {uploading ? 'Subiendo...' : 'Subir Fotos'}\n                  </button>\n                </div>\n              )}\n\n              {/* Lista de Fotos Existentes */}\n              {selectedFolder && selectedDay && (\n                <div>\n                  <div style={{ \n                    display: 'flex', \n                    justifyContent: 'space-between', \n                    alignItems: 'center',\n                    marginBottom: '1rem'\n                  }}>\n                    <h3 style={{ fontSize: '1.125rem', fontWeight: '600' }}>\n                      Fotos en {selectedFolder} / {selectedDay}\n                    </h3>\n                    {loadingPhotos && (\n                      <span style={{ color: '#718096', fontSize: '0.875rem' }}>\n                        Cargando...\n                      </span>\n                    )}\n                  </div>\n\n                  {photos.length === 0 && !loadingPhotos ? (\n                    <div className=\"alert alert-info\">\n                      No hay fotos en este día. Sube algunas fotos para comenzar.\n                    </div>\n                  ) : (\n                    <div style={{ \n                      display: 'grid', \n                      gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\n                      gap: '1rem'\n                    }}>\n                      {photos.map((photo) => (\n                        <div \n                          key={photo.filename}\n                          style={{\n                            background: 'white',\n                            border: '1px solid #e2e8f0',\n                            borderRadius: '8px',\n                            overflow: 'hidden',\n                            transition: 'all 0.2s'\n                          }}\n                        >\n                          <div style={{ \n                            aspectRatio: '1',\n                            background: '#f7fafc',\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            overflow: 'hidden'\n                          }}>\n                            <img \n                              src={adminApiService.getPhotoPreviewUrl(\n                                `${selectedFolder}/${selectedDay}`, \n                                photo.filename,\n                                false\n                              )}\n                              alt={photo.filename}\n                              style={{\n                                width: '100%',\n                                height: '100%',\n                                objectFit: 'cover'\n                              }}\n                            />\n                          </div>\n                          <div style={{ padding: '0.75rem' }}>\n                            <p style={{ \n                              fontSize: '0.875rem', \n                              fontWeight: '500',\n                              marginBottom: '0.25rem',\n                              overflow: 'hidden',\n                              textOverflow: 'ellipsis',\n                              whiteSpace: 'nowrap'\n                            }}>\n                              {photo.filename}\n                            </p>\n                            <p style={{ \n                              fontSize: '0.75rem', \n                              color: '#718096',\n                              marginBottom: '0.25rem'\n                            }}>\n                              {formatFileSize(photo.size)}\n                            </p>\n                            <p style={{ \n                              fontSize: '0.75rem', \n                              color: '#a0aec0'\n                            }}>\n                              {formatDate(photo.created_at)}\n                            </p>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Mensaje cuando no hay selección */}\n              {(!selectedFolder || !selectedDay) && (\n                <div className=\"alert alert-info\">\n                  Selecciona una carpeta y un día para ver y gestionar las fotos.\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PhotosPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}