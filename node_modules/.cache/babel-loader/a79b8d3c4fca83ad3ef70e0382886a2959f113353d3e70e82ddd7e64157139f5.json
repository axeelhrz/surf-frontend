{"ast":null,"code":"import React,{useState,useRef}from'react';import'./Recognition.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Recognition=_ref=>{let{onAddToCart}=_ref;const[activeTab,setActiveTab]=useState('camera');const fileInputRef=useRef(null);const[uploadedImage,setUploadedImage]=useState(null);const[uploadedFile,setUploadedFile]=useState(null);const[isSearching,setIsSearching]=useState(false);const[analysisResult,setAnalysisResult]=useState(null);const[showResults,setShowResults]=useState(false);const[error,setError]=useState(null);const handleFileUpload=event=>{var _event$target$files;const file=(_event$target$files=event.target.files)===null||_event$target$files===void 0?void 0:_event$target$files[0];if(file){setUploadedFile(file);const reader=new FileReader();reader.onload=e=>{var _e$target;setUploadedImage((_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.result);};reader.readAsDataURL(file);setError(null);}};const handleUploadClick=()=>{var _fileInputRef$current;(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();};const handleAnalyzePhoto=async()=>{if(!uploadedFile){setError('Por favor, selecciona una foto primero');return;}setIsSearching(true);setError(null);setShowResults(false);try{const formData=new FormData();formData.append('selfie',uploadedFile);const apiUrl=process.env.REACT_APP_API_URL||'http://localhost:8000';const response=await fetch(\"\".concat(apiUrl,\"/compare-faces-folder?search_folder=Surf\"),{method:'POST',body:formData,headers:{'Accept':'application/json'}});if(!response.ok){let errorMessage='Error en la búsqueda';try{const errorData=await response.json();errorMessage=errorData.detail||errorMessage;}catch(e){errorMessage=\"Error \".concat(response.status,\": \").concat(response.statusText);}throw new Error(errorMessage);}const data=await response.json();setAnalysisResult(data);setShowResults(true);}catch(err){const errorMessage=err instanceof Error?err.message:'Error al analizar la foto. Verifica que el servidor esté corriendo.';setError(errorMessage);console.error('Error detallado:',err);setShowResults(false);}finally{setIsSearching(false);}};const handleAddToCart=filename=>{const apiUrl=process.env.REACT_APP_API_URL||'http://localhost:8000';const cartItem={id:\"Surf_\".concat(filename),name:\"Surf - \".concat(filename),price:29.99,image:\"\".concat(apiUrl,\"/photos/preview?folder_name=Surf&filename=\").concat(filename,\"&watermark=true\")};onAddToCart(cartItem);};return/*#__PURE__*/_jsx(\"section\",{className:\"recognition\",id:\"recognition\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"section-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reconocimiento Facial Inteligente\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Captura tu rostro e identifica instant\\xE1neamente todas las fotos donde apareces\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recognition-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"camera-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tab-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(activeTab==='camera'?'active':''),onClick:()=>setActiveTab('camera'),children:\"C\\xE1mara\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(activeTab==='upload'?'active':''),onClick:()=>setActiveTab('upload'),children:\"Subir Foto\"})]}),activeTab==='camera'&&/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Captura Tu Rostro\"}),/*#__PURE__*/_jsx(\"div\",{className:\"camera-feed\",children:/*#__PURE__*/_jsx(\"video\",{id:\"video\",autoPlay:true,playsInline:true})}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",children:\"Iniciar\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",children:\"Capturar\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",children:\"Detener\"})]})]}),activeTab==='upload'&&/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sube Tu Foto\"}),/*#__PURE__*/_jsx(\"div\",{className:\"upload-area\",children:uploadedImage?/*#__PURE__*/_jsxs(\"div\",{className:\"uploaded-image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:uploadedImage,alt:\"Foto subida\",className:\"uploaded-image\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>{setUploadedImage(null);if(fileInputRef.current)fileInputRef.current.value='';},children:\"Cambiar Foto\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"upload-placeholder\",onClick:handleUploadClick,children:[/*#__PURE__*/_jsx(\"div\",{className:\"upload-icon\",children:\"\\u2191\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Haz clic para seleccionar una foto\"}),/*#__PURE__*/_jsx(\"span\",{children:\"o arrastra una imagen aqu\\xED\"})]})}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\"image/*\",onChange:handleFileUpload,style:{display:'none'}}),uploadedImage&&/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:handleAnalyzePhoto,disabled:isSearching,children:isSearching?'Analizando...':'Analizar Foto'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",onClick:()=>{setUploadedImage(null);setUploadedFile(null);if(fileInputRef.current)fileInputRef.current.value='';},children:\"Limpiar\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"features-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"feature-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feature-number\",children:\"01\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Reconocimiento Avanzado\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Tecnolog\\xEDa de IA de \\xFAltima generaci\\xF3n\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feature-number\",children:\"02\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Coincidencia Precisa\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Filtra autom\\xE1ticamente tus fotos\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feature-number\",children:\"03\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Compra Instant\\xE1nea\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Compra en segundos\"})]})]})]}),isSearching&&/*#__PURE__*/_jsx(\"div\",{className:\"loading-modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-modal\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Analizando tu rostro...\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Buscando coincidencias en la carpeta Surf\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\"})})]})}),showResults&&analysisResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"results-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"results-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Resultados del An\\xE1lisis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"statistics\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:analysisResult.statistics.matches_count}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Coincidencias\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:analysisResult.statistics.total_photos}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Fotos Analizadas\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-value\",children:[analysisResult.statistics.match_percentage,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Porcentaje\"})]})]})]}),analysisResult.matches.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"matches-container\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Fotos Encontradas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"matches-grid\",children:analysisResult.matches.map(match=>{const apiUrl=process.env.REACT_APP_API_URL||'http://localhost:8000';return/*#__PURE__*/_jsxs(\"div\",{className:\"match-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(apiUrl,\"/photos/preview?folder_name=Surf&filename=\").concat(match.file,\"&watermark=true\"),alt:match.file,className:\"match-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"match-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"match-file\",children:match.file}),/*#__PURE__*/_jsxs(\"p\",{className:\"match-similarity\",children:[\"Similitud: \",match.similarity.toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>handleAddToCart(match.file),style:{padding:'0.5rem 1rem',fontSize:'0.85rem'},children:\"Comprar\"})]})]},match.file);})})]}),analysisResult.non_matches.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"non-matches-container\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Fotos sin Coincidencia (\",analysisResult.non_matches.length,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"non-matches-list\",children:[analysisResult.non_matches.slice(0,5).map(match=>/*#__PURE__*/_jsxs(\"div\",{className:\"non-match-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:match.file}),/*#__PURE__*/_jsxs(\"span\",{className:\"similarity-badge\",children:[match.similarity.toFixed(1),\"%\"]})]},match.file)),analysisResult.non_matches.length>5&&/*#__PURE__*/_jsxs(\"p\",{className:\"more-items\",children:[\"+\",analysisResult.non_matches.length-5,\" m\\xE1s\"]})]})]})]})]})});};export default Recognition;","map":{"version":3,"names":["React","useState","useRef","jsx","_jsx","jsxs","_jsxs","Recognition","_ref","onAddToCart","activeTab","setActiveTab","fileInputRef","uploadedImage","setUploadedImage","uploadedFile","setUploadedFile","isSearching","setIsSearching","analysisResult","setAnalysisResult","showResults","setShowResults","error","setError","handleFileUpload","event","_event$target$files","file","target","files","reader","FileReader","onload","e","_e$target","result","readAsDataURL","handleUploadClick","_fileInputRef$current","current","click","handleAnalyzePhoto","formData","FormData","append","apiUrl","process","env","REACT_APP_API_URL","response","fetch","concat","method","body","headers","ok","errorMessage","errorData","json","detail","status","statusText","Error","data","err","message","console","handleAddToCart","filename","cartItem","id","name","price","image","className","children","onClick","autoPlay","playsInline","src","alt","value","ref","type","accept","onChange","style","display","disabled","statistics","matches_count","total_photos","match_percentage","matches","length","map","match","similarity","toFixed","padding","fontSize","non_matches","slice"],"sources":["/Users/axelhernandez/Surf/frontend/src/components/Recognition.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport './Recognition.css';\n\ninterface RecognitionProps {\n  onAddToCart: (item: any) => void;\n}\n\ninterface AnalysisResult {\n  status: string;\n  matches: Array<{ file: string; similarity: number }>;\n  non_matches: Array<{ file: string; similarity: number }>;\n  statistics: {\n    total_photos: number;\n    matches_count: number;\n    match_percentage: number;\n    threshold_used: number;\n  };\n}\n\nconst Recognition: React.FC<RecognitionProps> = ({ onAddToCart }) => {\n  const [activeTab, setActiveTab] = useState<'camera' | 'upload'>('camera');\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [uploadedImage, setUploadedImage] = useState<string | null>(null);\n  const [uploadedFile, setUploadedFile] = useState<File | null>(null);\n  const [isSearching, setIsSearching] = useState(false);\n  const [analysisResult, setAnalysisResult] = useState<AnalysisResult | null>(null);\n  const [showResults, setShowResults] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      setUploadedFile(file);\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setUploadedImage(e.target?.result as string);\n      };\n      reader.readAsDataURL(file);\n      setError(null);\n    }\n  };\n\n  const handleUploadClick = () => {\n    fileInputRef.current?.click();\n  };\n\n  const handleAnalyzePhoto = async () => {\n    if (!uploadedFile) {\n      setError('Por favor, selecciona una foto primero');\n      return;\n    }\n\n    setIsSearching(true);\n    setError(null);\n    setShowResults(false);\n\n    try {\n      const formData = new FormData();\n      formData.append('selfie', uploadedFile);\n\n      const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n      const response = await fetch(`${apiUrl}/compare-faces-folder?search_folder=Surf`, {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Accept': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        let errorMessage = 'Error en la búsqueda';\n        try {\n          const errorData = await response.json();\n          errorMessage = errorData.detail || errorMessage;\n        } catch (e) {\n          errorMessage = `Error ${response.status}: ${response.statusText}`;\n        }\n        throw new Error(errorMessage);\n      }\n\n      const data: AnalysisResult = await response.json();\n      setAnalysisResult(data);\n      setShowResults(true);\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Error al analizar la foto. Verifica que el servidor esté corriendo.';\n      setError(errorMessage);\n      console.error('Error detallado:', err);\n      setShowResults(false);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  const handleAddToCart = (filename: string) => {\n    const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n    const cartItem = {\n      id: `Surf_${filename}`,\n      name: `Surf - ${filename}`,\n      price: 29.99,\n      image: `${apiUrl}/photos/preview?folder_name=Surf&filename=${filename}&watermark=true`,\n    };\n    onAddToCart(cartItem);\n  };\n\n  return (\n    <section className=\"recognition\" id=\"recognition\">\n      <div className=\"section-wrapper\">\n        <div className=\"section-header\">\n          <h2>Reconocimiento Facial Inteligente</h2>\n          <p>Captura tu rostro e identifica instantáneamente todas las fotos donde apareces</p>\n        </div>\n        <div className=\"recognition-grid\">\n          <div className=\"camera-panel\">\n            <div className=\"tab-buttons\">\n              <button \n                className={`tab-btn ${activeTab === 'camera' ? 'active' : ''}`}\n                onClick={() => setActiveTab('camera')}\n              >\n                Cámara\n              </button>\n              <button \n                className={`tab-btn ${activeTab === 'upload' ? 'active' : ''}`}\n                onClick={() => setActiveTab('upload')}\n              >\n                Subir Foto\n              </button>\n            </div>\n\n            {activeTab === 'camera' && (\n              <div className=\"tab-content\">\n                <h3>Captura Tu Rostro</h3>\n                <div className=\"camera-feed\">\n                  <video id=\"video\" autoPlay playsInline></video>\n                </div>\n                <div className=\"button-group\">\n                  <button className=\"btn btn-dark\">Iniciar</button>\n                  <button className=\"btn btn-success\">Capturar</button>\n                  <button className=\"btn btn-danger\">Detener</button>\n                </div>\n              </div>\n            )}\n\n            {activeTab === 'upload' && (\n              <div className=\"tab-content\">\n                <h3>Sube Tu Foto</h3>\n                <div className=\"upload-area\">\n                  {uploadedImage ? (\n                    <div className=\"uploaded-image-container\">\n                      <img src={uploadedImage} alt=\"Foto subida\" className=\"uploaded-image\" />\n                      <button \n                        className=\"btn btn-secondary\"\n                        onClick={() => {\n                          setUploadedImage(null);\n                          if (fileInputRef.current) fileInputRef.current.value = '';\n                        }}\n                      >\n                        Cambiar Foto\n                      </button>\n                    </div>\n                  ) : (\n                    <div className=\"upload-placeholder\" onClick={handleUploadClick}>\n                      <div className=\"upload-icon\">↑</div>\n                      <p>Haz clic para seleccionar una foto</p>\n                      <span>o arrastra una imagen aquí</span>\n                    </div>\n                  )}\n                </div>\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={handleFileUpload}\n                  style={{ display: 'none' }}\n                />\n                {uploadedImage && (\n                  <div className=\"button-group\">\n                    <button \n                      className=\"btn btn-success\"\n                      onClick={handleAnalyzePhoto}\n                      disabled={isSearching}\n                    >\n                      {isSearching ? 'Analizando...' : 'Analizar Foto'}\n                    </button>\n                    <button \n                      className=\"btn btn-dark\"\n                      onClick={() => {\n                        setUploadedImage(null);\n                        setUploadedFile(null);\n                        if (fileInputRef.current) fileInputRef.current.value = '';\n                      }}\n                    >\n                      Limpiar\n                    </button>\n                  </div>\n                )}\n                {error && (\n                  <div className=\"error-message\">\n                    {error}\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n          <div className=\"features-grid\">\n            <div className=\"feature-card\">\n              <div className=\"feature-number\">01</div>\n              <h4>Reconocimiento Avanzado</h4>\n              <p>Tecnología de IA de última generación</p>\n            </div>\n            <div className=\"feature-card\">\n              <div className=\"feature-number\">02</div>\n              <h4>Coincidencia Precisa</h4>\n              <p>Filtra automáticamente tus fotos</p>\n            </div>\n            <div className=\"feature-card\">\n              <div className=\"feature-number\">03</div>\n              <h4>Compra Instantánea</h4>\n              <p>Compra en segundos</p>\n            </div>\n          </div>\n        </div>\n\n        {isSearching && (\n          <div className=\"loading-modal-overlay\">\n            <div className=\"loading-modal\">\n              <div className=\"spinner\"></div>\n              <h3>Analizando tu rostro...</h3>\n              <p>Buscando coincidencias en la carpeta Surf</p>\n              <div className=\"progress-bar\">\n                <div className=\"progress-fill\"></div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {showResults && analysisResult && (\n          <div className=\"results-section\">\n            <div className=\"results-header\">\n              <h3>Resultados del Análisis</h3>\n              <div className=\"statistics\">\n                <div className=\"stat-card\">\n                  <div className=\"stat-value\">{analysisResult.statistics.matches_count}</div>\n                  <div className=\"stat-label\">Coincidencias</div>\n                </div>\n                <div className=\"stat-card\">\n                  <div className=\"stat-value\">{analysisResult.statistics.total_photos}</div>\n                  <div className=\"stat-label\">Fotos Analizadas</div>\n                </div>\n                <div className=\"stat-card\">\n                  <div className=\"stat-value\">{analysisResult.statistics.match_percentage}%</div>\n                  <div className=\"stat-label\">Porcentaje</div>\n                </div>\n              </div>\n            </div>\n\n            {analysisResult.matches.length > 0 && (\n              <div className=\"matches-container\">\n                <h4>Fotos Encontradas</h4>\n                <div className=\"matches-grid\">\n                  {analysisResult.matches.map((match) => {\n                    const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n                    return (\n                      <div key={match.file} className=\"match-card\">\n                        <img \n                          src={`${apiUrl}/photos/preview?folder_name=Surf&filename=${match.file}&watermark=true`}\n                          alt={match.file}\n                          className=\"match-image\"\n                        />\n                        <div className=\"match-info\">\n                          <p className=\"match-file\">{match.file}</p>\n                          <p className=\"match-similarity\">\n                            Similitud: {match.similarity.toFixed(1)}%\n                          </p>\n                          <button \n                            className=\"btn btn-primary\"\n                            onClick={() => handleAddToCart(match.file)}\n                            style={{padding: '0.5rem 1rem', fontSize: '0.85rem'}}\n                          >\n                            Comprar\n                          </button>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            )}\n\n            {analysisResult.non_matches.length > 0 && (\n              <div className=\"non-matches-container\">\n                <h4>Fotos sin Coincidencia ({analysisResult.non_matches.length})</h4>\n                <div className=\"non-matches-list\">\n                  {analysisResult.non_matches.slice(0, 5).map((match) => (\n                    <div key={match.file} className=\"non-match-item\">\n                      <span>{match.file}</span>\n                      <span className=\"similarity-badge\">{match.similarity.toFixed(1)}%</span>\n                    </div>\n                  ))}\n                  {analysisResult.non_matches.length > 5 && (\n                    <p className=\"more-items\">+{analysisResult.non_matches.length - 5} más</p>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport default Recognition;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}